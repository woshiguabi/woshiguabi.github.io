{"version":3,"sources":["webpack:///static/js/app.8505b68deb3a889bdcd1.js","webpack:///./src/config.js","webpack:///./src/utils/index.js","webpack:///./src/App.vue","webpack:///./src/components/cell.vue","webpack:///./src/components/game.vue?e909","webpack:///./src/App.vue?d807","webpack:///./src/components/game.vue?0b11","webpack:///./src/components/cell.vue?b997","webpack:///App.vue","webpack:///cell.vue","webpack:///game.vue","webpack:///./src/main.js"],"names":["webpackJsonp","38","module","__webpack_exports__","__webpack_require__","bombCount","row","col","maxRow","maxCol","theme","cellClassName","isFlag","status0","isBomb","bombCount0","cellDisplayText","39","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set___default","n","Utils","Array","prototype","fill","Object","defineProperty","value","this","TypeError","O","len","length","start","arguments","relativeStart","k","Math","max","min","end","relativeEnd","undefined","final","randomBomb","cellCount","console","time","cellArr","resultArr","map","uniqueRandom","randomIndex","random","result","a","forEach","e","add","timeEnd","getCellStatus","cell","status","40","exports","Component","42","43","44","render","_vm","_h","$createElement","_c","_self","attrs","id","staticRenderFns","45","class","config","staticClass","w","h","r","resizeable","rotatable","_v","_s","flagCount","score","action","on","submit","$event","preventDefault","init","directives","name","rawName","expression","type","domProps","input","target","composing","inputRow","blur","$forceUpdate","inputCol","inputBombCount","tipsText","_e","tips-open","showTips","width","click","handleClick","contextmenu","handleRightClick","dblclick","handleDblClick","_l","rows","key","href","view","46","className","display","49","50","51","92","__WEBPACK_IMPORTED_MODULE_0__components_game__","__WEBPACK_IMPORTED_MODULE_0__components_game___default","components","game","93","__WEBPACK_IMPORTED_MODULE_0__utils__","__WEBPACK_IMPORTED_MODULE_1__config__","props","computed","94","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default","__WEBPACK_IMPORTED_MODULE_2__cell__","__WEBPACK_IMPORTED_MODULE_2__cell___default","__WEBPACK_IMPORTED_MODULE_3__config__","__WEBPACK_IMPORTED_MODULE_4__utils__","__WEBPACK_IMPORTED_MODULE_5_vue_drag_resize_rotate__","__WEBPACK_IMPORTED_MODULE_5_vue_drag_resize_rotate___default","createRightClickEvent","window","evt","document","createEvent","initMouseEvent","MouseEvent","button","bubbles","vue-drr","data","gameOver","cellData","viewBomb","bombSet","success","mounted","watch","val","$this","methods","initData","_this","has","isTriggered","fail","ev","nodeName","cellIndex","parentNode","rowIndex","clickType","aroundCell","getAroundCell","reduce","sum","table","$el","querySelector","nextTick","$nextTick","cells","dispatchEvent","rowArr","colArr","$vm","c","push","95","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","productionTip","el"],"mappings":"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","file":"static/js/app.8505b68deb3a889bdcd1.js","sourcesContent":["webpackJsonp([1,2],{\n\n/***/ 38:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = {\n  bombCount: 50,\n  row: 20,\n  col: 20,\n  maxRow: 100,\n  maxCol: 100,\n  theme: 'classic',\n  cellClassName: {\n    isFlag: 'flag fa-flag',\n    status0: 'status0',\n    isBomb: 'bomb fa-bomb',\n    bombCount: 'bomb-count-',\n    bombCount0: 'bomb-count-0'\n  },\n  cellDisplayText: {\n    isFlag: '',\n    status0: '',\n    isBomb: '',\n    bombCount: '',\n    bombCount0: ''\n  }\n};\n\n/***/ }),\n\n/***/ 39:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set__ = __webpack_require__(37);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set__);\n\nvar Utils = {};\n\nif (!Array.prototype.fill) {\n  Object.defineProperty(Array.prototype, 'fill', {\n    value: function value(_value) {\n      if (this == null) {\n        throw new TypeError('this is null or not defined');\n      }\n\n      var O = Object(this);\n\n      var len = O.length >>> 0;\n\n      var start = arguments[1];\n      var relativeStart = start >> 0;\n\n      var k = relativeStart < 0 ? Math.max(len + relativeStart, 0) : Math.min(relativeStart, len);\n\n      var end = arguments[2];\n      var relativeEnd = end === undefined ? len : end >> 0;\n\n      var final = relativeEnd < 0 ? Math.max(len + relativeEnd, 0) : Math.min(relativeEnd, len);\n\n      while (k < final) {\n        O[k] = _value;\n        k++;\n      }\n\n      return O;\n    }\n  });\n}\n\n\nUtils.randomBomb = function (bombCount, cellCount) {\n  console.time('random');\n  if (bombCount > cellCount) {\n    bombCount = cellCount;\n  }\n  var cellArr = Array(cellCount).fill(false);\n  var resultArr = Array(bombCount).fill(1).map(function uniqueRandom() {\n    var randomIndex = ~~(Math.random() * cellCount);\n    if (!cellArr[randomIndex]) {\n      cellArr[randomIndex] = true;\n      return randomIndex;\n    } else {\n      return uniqueRandom();\n    }\n  });\n  var result = new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set___default.a();\n  resultArr.forEach(function (e) {\n    return result.add(e);\n  });\n  console.timeEnd('random');\n  return result;\n};\n\nUtils.getCellStatus = function (result, cell) {\n  return cell.isFlag ? result.isFlag : cell.status === 0 ? result.status0 : cell.isBomb ? result.isBomb : cell.bombCount > 0 ? result.bombCount + cell.bombCount : result.bombCount0;\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = Utils;\n\n/***/ }),\n\n/***/ 40:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(49)\n\nvar Component = __webpack_require__(14)(\n  /* script */\n  __webpack_require__(92),\n  /* template */\n  __webpack_require__(44),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 42:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(14)(\n  /* script */\n  __webpack_require__(93),\n  /* template */\n  __webpack_require__(46),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 43:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(51)\n__webpack_require__(50)\n\nvar Component = __webpack_require__(14)(\n  /* script */\n  __webpack_require__(94),\n  /* template */\n  __webpack_require__(45),\n  /* scopeId */\n  \"data-v-75f32dd9\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 44:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('game')], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 45:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    class: _vm.config.theme\n  }, [_c('vue-drr', {\n    staticClass: \"scoreboard\",\n    attrs: {\n      \"w\": 180,\n      \"h\": 180,\n      \"r\": 0,\n      \"resizeable\": false,\n      \"rotatable\": false\n    }\n  }, [_c('h3', [_vm._v(\"计分板\")]), _vm._v(\"\\n    旗帜数量： \" + _vm._s(_vm.flagCount) + \" \"), _c('br'), _c('br'), _vm._v(\"\\n    分数： \" + _vm._s(_vm.score) + \"\\n  \")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"game-config\"\n  }, [_c('form', {\n    attrs: {\n      \"action\": \"\"\n    },\n    on: {\n      \"submit\": function($event) {\n        $event.preventDefault();\n        _vm.init($event)\n      }\n    }\n  }, [_c('label', [_vm._v(\"行: \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.inputRow),\n      expression: \"inputRow\"\n    }],\n    attrs: {\n      \"type\": \"number\",\n      \"min\": \"2\",\n      \"max\": _vm.config.maxRow\n    },\n    domProps: {\n      \"value\": (_vm.inputRow)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.inputRow = $event.target.value\n      },\n      \"blur\": function($event) {\n        _vm.$forceUpdate()\n      }\n    }\n  })]), _vm._v(\" \"), _c('label', [_vm._v(\"列: \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.inputCol),\n      expression: \"inputCol\"\n    }],\n    attrs: {\n      \"type\": \"number\",\n      \"min\": \"2\",\n      \"max\": _vm.config.maxCol\n    },\n    domProps: {\n      \"value\": (_vm.inputCol)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.inputCol = $event.target.value\n      },\n      \"blur\": function($event) {\n        _vm.$forceUpdate()\n      }\n    }\n  })]), _vm._v(\" \"), _c('label', [_vm._v(\"雷的数量: \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.inputBombCount),\n      expression: \"inputBombCount\"\n    }],\n    attrs: {\n      \"type\": \"number\",\n      \"min\": \"1\",\n      \"max\": ~~_vm.inputRow * ~~_vm.inputCol - 1\n    },\n    domProps: {\n      \"value\": (_vm.inputBombCount)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.inputBombCount = $event.target.value\n      },\n      \"blur\": function($event) {\n        _vm.$forceUpdate()\n      }\n    }\n  })]), _vm._v(\" \"), _c('button', {\n    attrs: {\n      \"type\": \"submit\"\n    }\n  }, [_vm._v(\"生成\")])]), _vm._v(\" \"), (_vm.showTips) ? _c('div', {\n    staticClass: \"game-config-tips\"\n  }, [_vm._v(_vm._s(_vm.tipsText))]) : _vm._e()]), _vm._v(\" \"), _c('table', {\n    staticClass: \"game\",\n    class: {\n      'tips-open': _vm.showTips\n    },\n    attrs: {\n      \"width\": _vm.width\n    },\n    on: {\n      \"click\": _vm.handleClick,\n      \"contextmenu\": function($event) {\n        $event.preventDefault();\n        _vm.handleRightClick($event)\n      },\n      \"dblclick\": _vm.handleDblClick\n    }\n  }, _vm._l((_vm.cellData), function(rows, row) {\n    return _c('tr', {\n      key: row\n    }, _vm._l((rows), function(cell, col) {\n      return _c('cell', {\n        key: col,\n        attrs: {\n          \"row\": cell.row,\n          \"col\": cell.col,\n          \"isBomb\": cell.isBomb,\n          \"status\": cell.status,\n          \"isFlag\": cell.isFlag,\n          \"bombCount\": cell.bombCount\n        }\n      })\n    }))\n  })), _vm._v(\" \"), (_vm.gameOver) ? _c('div', {\n    staticClass: \"gameover layer\"\n  }, [_c('div', [_vm._v(\"Game Over\")]), _vm._v(\" \"), _c('div', [_vm._v(\"你美丽了!\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"retry\"\n  }, [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.init($event)\n      }\n    }\n  }, [_vm._v(\"再试一次\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"retry\"\n  }, [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.view($event)\n      }\n    }\n  }, [_vm._v(\"查看雷的位置\")])])]) : _vm._e(), _vm._v(\" \"), (_vm.success) ? _c('div', {\n    staticClass: \"success layer\"\n  }, [_c('div', [_vm._v(\"Win!\")]), _vm._v(\" \"), _c('div', [_vm._v(\"你成功了!\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"retry\"\n  }, [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.init($event)\n      }\n    }\n  }, [_vm._v(\"我还要玩\")])])]) : _vm._e(), _vm._v(\" \"), (_vm.viewBomb) ? _c('div', {\n    staticClass: \"layer-transparent\"\n  }) : _vm._e()], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 46:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('td', {\n    class: _vm.className\n  }, [_vm._v(_vm._s(_vm.display))])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 49:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 50:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 51:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 92:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_game__ = __webpack_require__(43);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_game___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_game__);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = {\n  name: 'app',\n  components: {\n    game: __WEBPACK_IMPORTED_MODULE_0__components_game___default.a\n  }\n};\n\n/***/ }),\n\n/***/ 93:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils__ = __webpack_require__(39);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__config__ = __webpack_require__(38);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = {\n  name: 'cell',\n  props: ['row', 'col', 'isBomb', 'status', 'isFlag', 'bombCount'],\n  computed: {\n    display: function display() {\n      return __WEBPACK_IMPORTED_MODULE_0__utils__[\"a\" /* default */].getCellStatus(__WEBPACK_IMPORTED_MODULE_1__config__[\"a\" /* default */].cellDisplayText, this);\n    },\n    className: function className() {\n      return __WEBPACK_IMPORTED_MODULE_0__utils__[\"a\" /* default */].getCellStatus(__WEBPACK_IMPORTED_MODULE_1__config__[\"a\" /* default */].cellClassName, this);\n    }\n  }\n};\n\n/***/ }),\n\n/***/ 94:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set__ = __webpack_require__(37);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__ = __webpack_require__(91);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__cell__ = __webpack_require__(42);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__cell___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__cell__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__config__ = __webpack_require__(38);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils__ = __webpack_require__(39);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_vue_drag_resize_rotate__ = __webpack_require__(48);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_vue_drag_resize_rotate___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_vue_drag_resize_rotate__);\n\n\n\n\n\n\n\n\n\nvar createRightClickEvent = function () {\n  return 'ActiveXObject' in window ? function () {\n    var evt = document.createEvent('MouseEvent');\n    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n    return evt;\n  } : function () {\n    var evt = new MouseEvent('click', {\n      button: 0,\n      bubbles: true\n    });\n    return evt;\n  };\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = {\n  name: 'game',\n  components: {\n    cell: __WEBPACK_IMPORTED_MODULE_2__cell___default.a,\n    'vue-drr': __WEBPACK_IMPORTED_MODULE_5_vue_drag_resize_rotate___default.a\n  },\n  data: function data() {\n    return {\n      config: __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__config__[\"a\" /* default */]),\n      gameOver: false,\n      cellData: [],\n      showTips: false,\n      viewBomb: false,\n      width: 0,\n      flagCount: 0,\n      score: 0,\n      inputRow: __WEBPACK_IMPORTED_MODULE_3__config__[\"a\" /* default */].row,\n      inputCol: __WEBPACK_IMPORTED_MODULE_3__config__[\"a\" /* default */].col,\n      inputBombCount: __WEBPACK_IMPORTED_MODULE_3__config__[\"a\" /* default */].bombCount,\n      bombSet: new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set___default.a(),\n      success: false,\n      tipsText: ''\n    };\n  },\n  mounted: function mounted() {\n    this.init();\n  },\n\n  computed: {\n    cellCount: function cellCount() {\n      return this.config.col * this.config.row;\n    }\n  },\n  watch: {\n    score: function score(val) {\n      if (val === this.cellCount - this.config.bombCount) {\n        var $this = this;\n        this.bombSet.forEach(function (e) {\n          var col = e % $this.config.col;\n          var row = ~~(e / $this.config.col);\n          $this.cellData[row][col].isFlag = 1;\n        });\n        this.$forceUpdate();\n        this.score = this.cellCount;\n        this.flagCount = this.config.bombCount;\n        this.success = true;\n      }\n    }\n  },\n  methods: {\n    view: function view() {\n      this.gameOver = false;\n      this.viewBomb = true;\n      var $this = this;\n      this.bombSet.forEach(function (e) {\n        var col = e % $this.config.col;\n        var row = ~~(e / $this.config.col);\n        $this.cellData[row][col].status = 1;\n      });\n      this.$forceUpdate();\n    },\n    init: function init() {\n      if (~~this.inputCol > this.config.maxCol || ~~this.inputRow > this.config.maxRow) {\n        this.tipsText = '请勿作死设置过大行列！';\n        this.showTips = true;\n        this.inputRow = this.config.row;\n        this.inputCol = this.config.col;\n        this.inputBombCount = this.config.bombCount;\n        return;\n      }\n      this.config.col = ~~this.inputCol;\n      this.config.row = ~~this.inputRow;\n      if (~~this.inputBombCount >= this.cellCount) {\n        this.tipsText = '雷的数量最大为格子数量减1';\n        this.showTips = true;\n        this.inputBombCount = this.cellCount - 1;\n        return;\n      }\n      this.config.bombCount = ~~this.inputBombCount;\n      this.showTips = false;\n      this.success = false;\n      this.gameOver = false;\n      this.viewBomb = false;\n      this.score = 0;\n      this.flagCount = 0;\n      this.width = this.config.col * 41 + 1;\n      this.cellData = this.initData();\n    },\n    initData: function initData() {\n      var _this = this;\n\n      this.bombSet = __WEBPACK_IMPORTED_MODULE_4__utils__[\"a\" /* default */].randomBomb(this.config.bombCount, this.config.col * this.config.row);\n      var result = [];\n      console.time('map');\n      result = Array(this.config.row).fill(0).map(function (e, row) {\n        return Array(_this.config.col).fill(0).map(function (e, col) {\n          return {\n            status: 0,\n            isFlag: false,\n            row: row,\n            col: col,\n            isBomb: _this.bombSet.has(row * _this.config.col + col),\n            bombCount: 0,\n            isTriggered: false\n          };\n        });\n      });\n      console.timeEnd('map');\n      return result;\n    },\n    fail: function fail() {\n      this.gameOver = true;\n    },\n    handleClick: function handleClick(ev) {\n      if (ev.target.nodeName !== 'TD') return;\n      var col = ev.target.cellIndex;\n      var row = ev.target.parentNode.rowIndex;\n      var cell = this.cellData[row][col];\n      if (cell.status !== 0) return;\n      var clickType = ev.button;\n      if (clickType === 0) {\n        if (!cell.isFlag) {\n          cell.status = 1;\n          if (cell.isBomb) {\n            this.$forceUpdate();\n            this.fail();\n            return;\n          }\n          this.score++;\n          var aroundCell = this.getAroundCell(row, col);\n          cell.bombCount = aroundCell.reduce(function (sum, cell) {\n            return sum + (cell.isBomb ? 1 : 0);\n          }, 0);\n          if (cell.bombCount === 0) {\n            var table = this.$el.querySelector('table');\n            var nextTick = this.$nextTick;\n            cell.isTriggered = true;\n            aroundCell.forEach(function (e) {\n              if (e.isTriggered || e.isFlag || e.status === 1) return;\n\n              var evt = createRightClickEvent();\n              nextTick(function () {\n                table.rows[e.row].cells[e.col].dispatchEvent(evt);\n              });\n            });\n          }\n          this.$forceUpdate();\n        }\n      } else if (clickType === 2) {}\n    },\n    handleRightClick: function handleRightClick(ev) {\n      if (ev.target.nodeName !== 'TD') return;\n      var col = ev.target.cellIndex;\n      var row = ev.target.parentNode.rowIndex;\n      var cell = this.cellData[row][col];\n      if (cell.status === 1) return;\n      if (!cell.isFlag) {\n        this.flagCount++;\n        cell.isFlag = true;\n      } else {\n        this.flagCount--;\n        cell.isFlag = false;\n      }\n      this.$forceUpdate();\n    },\n    handleDblClick: function handleDblClick(ev) {\n      if (ev.target.nodeName !== 'TD') return;\n      var col = ev.target.cellIndex;\n      var row = ev.target.parentNode.rowIndex;\n      var cell = this.cellData[row][col];\n      if (cell.status !== 1) return;\n      var table = this.$el.querySelector('table');\n      var aroundCell = this.getAroundCell(row, col);\n      var nextTick = this.$nextTick;\n      cell.isTriggered = true;\n      aroundCell.forEach(function (e) {\n        if (e.isTriggered || e.isFlag || e.status === 1) return;\n\n        var evt = createRightClickEvent();\n        nextTick(function () {\n          table.rows[e.row].cells[e.col].dispatchEvent(evt);\n        });\n      });\n    },\n    getAroundCell: function getAroundCell(row, col) {\n      var rowArr = [row - 1, row, row + 1];\n      var colArr = [col - 1, col, col + 1];\n      var resultArr = [];\n      var $vm = this;\n      rowArr.forEach(function (r) {\n        colArr.forEach(function (c) {\n          if (r === row && c === col || r < 0 || r >= $vm.config.row || c < 0 || c >= $vm.config.col) return;\n          resultArr.push($vm.cellData[r][c]);\n        });\n      });\n      return resultArr;\n    }\n  }\n};\n\n/***/ }),\n\n/***/ 95:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(41);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(40);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  render: function render(h) {\n    return h(__WEBPACK_IMPORTED_MODULE_1__App___default.a);\n  }\n});\n\n/***/ })\n\n},[95]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.8505b68deb3a889bdcd1.js","export default {\r\n  bombCount: 50,\r\n  row: 20,\r\n  col: 20,\r\n  maxRow: 100,\r\n  maxCol: 100,\r\n  theme: 'classic',\r\n  cellClassName: {\r\n    isFlag: 'flag fa-flag',\r\n    status0: 'status0',\r\n    isBomb: 'bomb fa-bomb',\r\n    bombCount: 'bomb-count-',\r\n    bombCount0: 'bomb-count-0'\r\n  },\r\n  cellDisplayText: {\r\n    isFlag: '',\r\n    status0: '',\r\n    isBomb: '',\r\n    bombCount: '',\r\n    bombCount0: ''\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/config.js","const Utils = {}\r\n\r\n/* Array.prototype.fill Polyfill By https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/fill */\r\n/* eslint-disable */\r\nif (!Array.prototype.fill) {\r\n  Object.defineProperty(Array.prototype, 'fill', {\r\n    value: function(value) {\r\n\r\n      // Steps 1-2.\r\n      if (this == null) {\r\n        throw new TypeError('this is null or not defined');\r\n      }\r\n\r\n      var O = Object(this);\r\n\r\n      // Steps 3-5.\r\n      var len = O.length >>> 0;\r\n\r\n      // Steps 6-7.\r\n      var start = arguments[1];\r\n      var relativeStart = start >> 0;\r\n\r\n      // Step 8.\r\n      var k = relativeStart < 0 ?\r\n        Math.max(len + relativeStart, 0) :\r\n        Math.min(relativeStart, len);\r\n\r\n      // Steps 9-10.\r\n      var end = arguments[2];\r\n      var relativeEnd = end === undefined ?\r\n        len : end >> 0;\r\n\r\n      // Step 11.\r\n      var final = relativeEnd < 0 ?\r\n        Math.max(len + relativeEnd, 0) :\r\n        Math.min(relativeEnd, len);\r\n\r\n      // Step 12.\r\n      while (k < final) {\r\n        O[k] = value;\r\n        k++;\r\n      }\r\n\r\n      // Step 13.\r\n      return O;\r\n    }\r\n  });\r\n}\r\n/* eslint-enable */\r\n\r\nUtils.randomBomb = function (bombCount, cellCount) {\r\n  console.time('random')\r\n  if (bombCount > cellCount) {\r\n    bombCount = cellCount\r\n  }\r\n  const cellArr = Array(cellCount).fill(false)\r\n  let resultArr = Array(bombCount).fill(1).map(function uniqueRandom () {\r\n    let randomIndex = ~~(Math.random() * cellCount)\r\n    if (!cellArr[randomIndex]) {\r\n      cellArr[randomIndex] = true\r\n      return randomIndex\r\n    } else {\r\n      return uniqueRandom()\r\n    }\r\n  })\r\n  let result = new Set()\r\n  resultArr.forEach(e => result.add(e))\r\n  console.timeEnd('random')\r\n  return result\r\n}\r\n\r\nUtils.getCellStatus = function (result, cell) {\r\n  return cell.isFlag ? result.isFlag : (\r\n    cell.status === 0 ? result.status0 : (\r\n      cell.isBomb ? result.isBomb : (\r\n        cell.bombCount > 0 ? result.bombCount + cell.bombCount : result.bombCount0\r\n      )\r\n    )\r\n  )\r\n}\r\n\r\nexport default Utils\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/index.js","\n/* styles */\nrequire(\"!!../node_modules/.2.1.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/.11.1.4@vue-loader/lib/style-rewriter?{\\\"id\\\":\\\"data-v-05ab4e8f\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/.11.1.4@vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!../node_modules/.11.1.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/.11.1.4@vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/.11.1.4@vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-05ab4e8f\\\"}!../node_modules/.11.1.4@vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 40\n// module chunks = 1","var Component = require(\"!../../node_modules/.11.1.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/.11.1.4@vue-loader/lib/selector?type=script&index=0!./cell.vue\"),\n  /* template */\n  require(\"!!../../node_modules/.11.1.4@vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-ae95996e\\\"}!../../node_modules/.11.1.4@vue-loader/lib/selector?type=template&index=0!./cell.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/cell.vue\n// module id = 42\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../node_modules/.2.1.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/.11.1.4@vue-loader/lib/style-rewriter?{\\\"id\\\":\\\"data-v-75f32dd9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/.11.1.4@vue-loader/lib/selector?type=styles&index=0!./game.vue\")\nrequire(\"!!../../node_modules/.2.1.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/.11.1.4@vue-loader/lib/style-rewriter?{\\\"id\\\":\\\"data-v-75f32dd9\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/.11.1.4@vue-loader/lib/selector?type=styles&index=1!./game.vue\")\n\nvar Component = require(\"!../../node_modules/.11.1.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/.11.1.4@vue-loader/lib/selector?type=script&index=0!./game.vue\"),\n  /* template */\n  require(\"!!../../node_modules/.11.1.4@vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-75f32dd9\\\"}!../../node_modules/.11.1.4@vue-loader/lib/selector?type=template&index=0!./game.vue\"),\n  /* scopeId */\n  \"data-v-75f32dd9\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/game.vue\n// module id = 43\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('game')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.11.1.4@vue-loader/lib/template-compiler.js?{\"id\":\"data-v-05ab4e8f\"}!./~/.11.1.4@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 44\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    class: _vm.config.theme\n  }, [_c('vue-drr', {\n    staticClass: \"scoreboard\",\n    attrs: {\n      \"w\": 180,\n      \"h\": 180,\n      \"r\": 0,\n      \"resizeable\": false,\n      \"rotatable\": false\n    }\n  }, [_c('h3', [_vm._v(\"计分板\")]), _vm._v(\"\\n    旗帜数量： \" + _vm._s(_vm.flagCount) + \" \"), _c('br'), _c('br'), _vm._v(\"\\n    分数： \" + _vm._s(_vm.score) + \"\\n  \")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"game-config\"\n  }, [_c('form', {\n    attrs: {\n      \"action\": \"\"\n    },\n    on: {\n      \"submit\": function($event) {\n        $event.preventDefault();\n        _vm.init($event)\n      }\n    }\n  }, [_c('label', [_vm._v(\"行: \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.inputRow),\n      expression: \"inputRow\"\n    }],\n    attrs: {\n      \"type\": \"number\",\n      \"min\": \"2\",\n      \"max\": _vm.config.maxRow\n    },\n    domProps: {\n      \"value\": (_vm.inputRow)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.inputRow = $event.target.value\n      },\n      \"blur\": function($event) {\n        _vm.$forceUpdate()\n      }\n    }\n  })]), _vm._v(\" \"), _c('label', [_vm._v(\"列: \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.inputCol),\n      expression: \"inputCol\"\n    }],\n    attrs: {\n      \"type\": \"number\",\n      \"min\": \"2\",\n      \"max\": _vm.config.maxCol\n    },\n    domProps: {\n      \"value\": (_vm.inputCol)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.inputCol = $event.target.value\n      },\n      \"blur\": function($event) {\n        _vm.$forceUpdate()\n      }\n    }\n  })]), _vm._v(\" \"), _c('label', [_vm._v(\"雷的数量: \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.inputBombCount),\n      expression: \"inputBombCount\"\n    }],\n    attrs: {\n      \"type\": \"number\",\n      \"min\": \"1\",\n      \"max\": ~~_vm.inputRow * ~~_vm.inputCol - 1\n    },\n    domProps: {\n      \"value\": (_vm.inputBombCount)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.inputBombCount = $event.target.value\n      },\n      \"blur\": function($event) {\n        _vm.$forceUpdate()\n      }\n    }\n  })]), _vm._v(\" \"), _c('button', {\n    attrs: {\n      \"type\": \"submit\"\n    }\n  }, [_vm._v(\"生成\")])]), _vm._v(\" \"), (_vm.showTips) ? _c('div', {\n    staticClass: \"game-config-tips\"\n  }, [_vm._v(_vm._s(_vm.tipsText))]) : _vm._e()]), _vm._v(\" \"), _c('table', {\n    staticClass: \"game\",\n    class: {\n      'tips-open': _vm.showTips\n    },\n    attrs: {\n      \"width\": _vm.width\n    },\n    on: {\n      \"click\": _vm.handleClick,\n      \"contextmenu\": function($event) {\n        $event.preventDefault();\n        _vm.handleRightClick($event)\n      },\n      \"dblclick\": _vm.handleDblClick\n    }\n  }, _vm._l((_vm.cellData), function(rows, row) {\n    return _c('tr', {\n      key: row\n    }, _vm._l((rows), function(cell, col) {\n      return _c('cell', {\n        key: col,\n        attrs: {\n          \"row\": cell.row,\n          \"col\": cell.col,\n          \"isBomb\": cell.isBomb,\n          \"status\": cell.status,\n          \"isFlag\": cell.isFlag,\n          \"bombCount\": cell.bombCount\n        }\n      })\n    }))\n  })), _vm._v(\" \"), (_vm.gameOver) ? _c('div', {\n    staticClass: \"gameover layer\"\n  }, [_c('div', [_vm._v(\"Game Over\")]), _vm._v(\" \"), _c('div', [_vm._v(\"你美丽了!\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"retry\"\n  }, [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.init($event)\n      }\n    }\n  }, [_vm._v(\"再试一次\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"retry\"\n  }, [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.view($event)\n      }\n    }\n  }, [_vm._v(\"查看雷的位置\")])])]) : _vm._e(), _vm._v(\" \"), (_vm.success) ? _c('div', {\n    staticClass: \"success layer\"\n  }, [_c('div', [_vm._v(\"Win!\")]), _vm._v(\" \"), _c('div', [_vm._v(\"你成功了!\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"retry\"\n  }, [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.init($event)\n      }\n    }\n  }, [_vm._v(\"我还要玩\")])])]) : _vm._e(), _vm._v(\" \"), (_vm.viewBomb) ? _c('div', {\n    staticClass: \"layer-transparent\"\n  }) : _vm._e()], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.11.1.4@vue-loader/lib/template-compiler.js?{\"id\":\"data-v-75f32dd9\"}!./~/.11.1.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/game.vue\n// module id = 45\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('td', {\n    class: _vm.className\n  }, [_vm._v(_vm._s(_vm.display))])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.11.1.4@vue-loader/lib/template-compiler.js?{\"id\":\"data-v-ae95996e\"}!./~/.11.1.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/cell.vue\n// module id = 46\n// module chunks = 1","<template>\n  <div id=\"app\">\n    <game></game>\n  </div>\n</template>\n\n<script>\nimport game from './components/game'\n\nexport default {\n  name: 'app',\n  components: {\n    game\n  }\n}\n</script>\n\n<style>\n#app {\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?40ccba99","<template>\r\n  <td :class=\"className\">{{display}}</td>\r\n</template>\r\n<script>\r\n  import Utils from '../utils'\r\n  import config from '../config'\r\n  export default {\r\n    name: 'cell',\r\n    props: ['row', 'col', 'isBomb', 'status', 'isFlag', 'bombCount'],\r\n    computed: {\r\n      display () {\r\n        return Utils.getCellStatus(config.cellDisplayText, this)\r\n      },\r\n      className () {\r\n        return Utils.getCellStatus(config.cellClassName, this)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// cell.vue?63f5a246","<template>\r\n  <div :class=\"config.theme\">\r\n    <vue-drr :w='180' :h='180' :r='0' class=\"scoreboard\" :resizeable=\"false\" :rotatable='false'>\r\n      <h3>计分板</h3>\r\n      旗帜数量： {{flagCount}} <br><br>\r\n      分数： {{score}}\r\n    </vue-drr>\r\n    <div class=\"game-config\">\r\n      <form action=\"\" @submit.prevent=\"init\">\r\n        <label>行: <input type=\"number\" min=\"2\" :max=\"config.maxRow\" v-model=\"inputRow\"></label>\r\n        <label>列: <input type=\"number\" min=\"2\" :max=\"config.maxCol\" v-model=\"inputCol\"></label>\r\n        <label>雷的数量: <input type=\"number\" min=\"1\" :max=\"~~inputRow * ~~inputCol - 1\" v-model=\"inputBombCount\"></label>\r\n        <button type=\"submit\">生成</button>\r\n      </form>\r\n      <div v-if=\"showTips\" class=\"game-config-tips\">{{ tipsText }}</div>\r\n    </div>\r\n    <table :width=\"width\" class=\"game\" :class=\"{'tips-open': showTips}\" @click=\"handleClick\" @contextmenu.prevent=\"handleRightClick\" @dblclick=\"handleDblClick\">\r\n      <tr :key=\"row\" v-for=\"(rows, row) in cellData\">\r\n        <cell :key=\"col\" v-for=\"(cell, col) in rows\" :row=\"cell.row\" :col=\"cell.col\" :isBomb=\"cell.isBomb\" :status=\"cell.status\" :isFlag=\"cell.isFlag\" :bombCount=\"cell.bombCount\"></cell>\r\n      </tr>\r\n    </table>\r\n    <div v-if=\"gameOver\" class=\"gameover layer\">\r\n      <div>Game Over</div>\r\n      <div>你美丽了!</div>\r\n      <div class=\"retry\"><a href=\"#\" @click.prevent=\"init\">再试一次</a></div>\r\n      <div class=\"retry\"><a href=\"#\" @click.prevent=\"view\">查看雷的位置</a></div>\r\n    </div>\r\n    <div v-if=\"success\" class=\"success layer\">\r\n      <div>Win!</div>\r\n      <div>你成功了!</div>\r\n      <div class=\"retry\"><a href=\"#\" @click.prevent=\"init\">我还要玩</a></div>\r\n    </div>\r\n    <div v-if=\"viewBomb\" class=\"layer-transparent\"></div>\r\n\r\n  </div>\r\n</template>\r\n<script>\r\n  import cell from './cell'\r\n  import config from '../config'\r\n  import Utils from '../utils'\r\n  import VueDRR from 'vue-drag-resize-rotate'\r\n\r\n  /* F**k IE */\r\n  const createRightClickEvent = (function () {\r\n    return 'ActiveXObject' in window ? function () {\r\n      let evt = document.createEvent('MouseEvent')\r\n      evt.initMouseEvent('click', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null)\r\n      return evt\r\n    } : function () {\r\n      let evt = new MouseEvent('click', {\r\n        button: 0,\r\n        bubbles: true\r\n      })\r\n      return evt\r\n    }\r\n  })()\r\n\r\n  export default {\r\n    name: 'game',\r\n    components: {\r\n      cell,\r\n      'vue-drr': VueDRR\r\n    },\r\n    data () {\r\n      return {\r\n        config: Object.assign({}, config),\r\n        gameOver: false,\r\n        cellData: [],\r\n        showTips: false,\r\n        viewBomb: false,\r\n        width: 0,\r\n        flagCount: 0,\r\n        score: 0,\r\n        inputRow: config.row,\r\n        inputCol: config.col,\r\n        inputBombCount: config.bombCount,\r\n        bombSet: new Set(),\r\n        success: false,\r\n        tipsText: ''\r\n      }\r\n    },\r\n    mounted () {\r\n      this.init()\r\n    },\r\n    computed: {\r\n      cellCount () {\r\n        return this.config.col * this.config.row\r\n      }\r\n    },\r\n    watch: {\r\n      score (val) {\r\n        if (val === this.cellCount - this.config.bombCount) {\r\n          let $this = this\r\n          this.bombSet.forEach(e => {\r\n            let col = e % $this.config.col\r\n            let row = ~~(e / $this.config.col)\r\n            $this.cellData[row][col].isFlag = 1\r\n          })\r\n          this.$forceUpdate()\r\n          this.score = this.cellCount\r\n          this.flagCount = this.config.bombCount\r\n          this.success = true\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      view () {\r\n        this.gameOver = false\r\n        this.viewBomb = true\r\n        let $this = this\r\n        this.bombSet.forEach(e => {\r\n          let col = e % $this.config.col\r\n          let row = ~~(e / $this.config.col)\r\n          $this.cellData[row][col].status = 1\r\n        })\r\n        this.$forceUpdate()\r\n      },\r\n      init () {\r\n        if ((~~this.inputCol) > this.config.maxCol || (~~this.inputRow) > this.config.maxRow) {\r\n          this.tipsText = '请勿作死设置过大行列！'\r\n          this.showTips = true\r\n          this.inputRow = this.config.row\r\n          this.inputCol = this.config.col\r\n          this.inputBombCount = this.config.bombCount\r\n          return\r\n        }\r\n        this.config.col = ~~this.inputCol\r\n        this.config.row = ~~this.inputRow\r\n        if ((~~this.inputBombCount) >= this.cellCount) {\r\n          this.tipsText = '雷的数量最大为格子数量减1'\r\n          this.showTips = true\r\n          this.inputBombCount = this.cellCount - 1\r\n          return\r\n        }\r\n        this.config.bombCount = ~~this.inputBombCount\r\n        this.showTips = false\r\n        this.success = false\r\n        this.gameOver = false\r\n        this.viewBomb = false\r\n        this.score = 0\r\n        this.flagCount = 0\r\n        this.width = this.config.col * 41 + 1\r\n        this.cellData = this.initData()\r\n      },\r\n      initData () {\r\n        this.bombSet = Utils.randomBomb(this.config.bombCount, this.config.col * this.config.row)\r\n        let result = []\r\n        console.time('map')\r\n        result = Array(this.config.row).fill(0).map((e, row) => {\r\n          return Array(this.config.col).fill(0).map((e, col) => {\r\n            return {\r\n              status: 0,\r\n              isFlag: false,\r\n              row,\r\n              col,\r\n              isBomb: this.bombSet.has(row * this.config.col + col),\r\n              bombCount: 0,\r\n              isTriggered: false\r\n            }\r\n          })\r\n        })\r\n        console.timeEnd('map')\r\n        return result\r\n      },\r\n      fail () {\r\n        this.gameOver = true\r\n      },\r\n      handleClick (ev) {\r\n        if (ev.target.nodeName !== 'TD') return\r\n        let col = ev.target.cellIndex\r\n        let row = ev.target.parentNode.rowIndex\r\n        let cell = this.cellData[row][col]\r\n        if (cell.status !== 0) return\r\n        let clickType = ev.button\r\n        if (clickType === 0) {\r\n          if (!cell.isFlag) {\r\n            cell.status = 1\r\n            if (cell.isBomb) {\r\n              this.$forceUpdate()\r\n              this.fail()\r\n              return\r\n            }\r\n            this.score++\r\n            let aroundCell = this.getAroundCell(row, col)\r\n            cell.bombCount = aroundCell.reduce(function (sum, cell) {\r\n              return sum + (cell.isBomb ? 1 : 0)\r\n            }, 0)\r\n            if (cell.bombCount === 0) {\r\n              let table = this.$el.querySelector('table')\r\n              let nextTick = this.$nextTick\r\n              cell.isTriggered = true\r\n              aroundCell.forEach(e => {\r\n                if (e.isTriggered || e.isFlag || e.status === 1) return\r\n                // TODO: cell展开性能优化\r\n                let evt = createRightClickEvent()\r\n                nextTick(() => {\r\n                  table.rows[e.row].cells[e.col].dispatchEvent(evt)\r\n                })\r\n              })\r\n            }\r\n            this.$forceUpdate()\r\n          }\r\n        } else if (clickType === 2) {\r\n        }\r\n      },\r\n      handleRightClick (ev) {\r\n        if (ev.target.nodeName !== 'TD') return\r\n        let col = ev.target.cellIndex\r\n        let row = ev.target.parentNode.rowIndex\r\n        let cell = this.cellData[row][col]\r\n        if (cell.status === 1) return\r\n        if (!cell.isFlag) {\r\n          this.flagCount++\r\n          cell.isFlag = true\r\n        } else {\r\n          this.flagCount--\r\n          cell.isFlag = false\r\n        }\r\n        this.$forceUpdate()\r\n      },\r\n      handleDblClick (ev) {\r\n        if (ev.target.nodeName !== 'TD') return\r\n        let col = ev.target.cellIndex\r\n        let row = ev.target.parentNode.rowIndex\r\n        let cell = this.cellData[row][col]\r\n        if (cell.status !== 1) return\r\n        let table = this.$el.querySelector('table')\r\n        let aroundCell = this.getAroundCell(row, col)\r\n        let nextTick = this.$nextTick\r\n        cell.isTriggered = true\r\n        aroundCell.forEach(e => {\r\n          if (e.isTriggered || e.isFlag || e.status === 1) return\r\n          // TODO: cell展开性能优化\r\n          let evt = createRightClickEvent()\r\n          nextTick(() => {\r\n            table.rows[e.row].cells[e.col].dispatchEvent(evt)\r\n          })\r\n        })\r\n      },\r\n      getAroundCell (row, col) {\r\n        let rowArr = [row - 1, row, row + 1]\r\n        let colArr = [col - 1, col, col + 1]\r\n        let resultArr = []\r\n        let $vm = this\r\n        rowArr.forEach(r => {\r\n          colArr.forEach(c => {\r\n            if ((r === row && c === col) || (r < 0 || r >= $vm.config.row) || (c < 0 || c >= $vm.config.col)) return\r\n            resultArr.push($vm.cellData[r][c])\r\n          })\r\n        })\r\n        return resultArr\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style scoped>\r\n  .scoreboard.dragable{\r\n    position: fixed;\r\n    z-index: 99;\r\n    max-width: 180px;\r\n    max-height: 180px;\r\n    min-height: 180px;\r\n    min-width: 180px;\r\n    user-select: none;\r\n    cursor: move;\r\n    top: 100px;\r\n    left: 100px;\r\n  }\r\n</style>\r\n<style>\r\n  body, button, input{\r\n    font-family: Arial, Microsoft Yahei;\r\n  }\r\n  .scoreboard.dragable .scale{\r\n    display: none;\r\n  }\r\n  .game{\r\n    margin: 0 auto;\r\n    border-spacing: 0;\r\n    border-collapse: collapse;\r\n    user-select: none;\r\n    text-align: center;\r\n    margin-top: 65px;\r\n  }\r\n  .game.tips-open{\r\n    margin-top: 97px;\r\n  }\r\n  .game-config{\r\n    position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    z-index: 100;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    padding: 20px 0;\r\n    background-color: #fff;\r\n    flex-wrap: wrap;\r\n  }\r\n  .game-config label{\r\n    margin-right: 5px;\r\n  }\r\n  .game-config-tips{\r\n    width: 100%;\r\n    margin-top: 10px;\r\n    text-align: center;\r\n    color: #f36;\r\n    font-weight: bold;\r\n  }\r\n  td{\r\n    width: 30px;\r\n    height: 30px;\r\n    border: 1px solid;\r\n    padding: 0;\r\n  }\r\n  .layer{\r\n    position: fixed;\r\n    z-index: 1000;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    text-align: center;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    font-size: 100px;\r\n    font-weight: bold;\r\n    color: #f36;\r\n    font-family: Arial, Microsoft Yahei;\r\n    background-color: rgba(255, 255, 255, .7);\r\n  }\r\n  .layer-transparent{\r\n    position: fixed;\r\n    z-index: 90;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n  }\r\n  .layer > div{\r\n    width: 100%;\r\n  }\r\n  .layer .retry a{\r\n    font-size: 40px;\r\n    text-decoration: none;\r\n    color: #06f;\r\n  }\r\n  .gameover{\r\n    color: #f36;\r\n  }\r\n  .success{\r\n    color: #09BB07;\r\n  }\r\n\r\n  /* theme */\r\n  /* classic */\r\n  .classic .game{\r\n    border-collapse: separate;\r\n    font-family: Courier, Arial, Microsoft Yahei;\r\n    font-size: 30px;\r\n    font-weight: bold;\r\n    border-spacing: 1px;\r\n    background-color: #666; \r\n  }\r\n  .classic .status0{\r\n    width: 30px;\r\n    height: 30px;\r\n    border-style: solid;\r\n    border-width: 5px;\r\n    border-color: #eee #aaa #aaa #eee;\r\n    background-color: #ddd;\r\n    cursor: pointer;\r\n  }\r\n  .classic .bomb, .classic .flag{\r\n    color: #f36;\r\n    font-size: 24px;\r\n    font-family: FontAwesome;\r\n    font-weight: normal;\r\n    text-rendering: auto;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n  }\r\n  .classic .flag{\r\n    cursor: pointer;\r\n    width: 30px;\r\n    height: 30px;\r\n    border-style: solid;\r\n    border-width: 5px;\r\n    border-color: #eee #aaa #aaa #eee;\r\n    background-color: #ddd;\r\n  }\r\n  .classic .bomb{\r\n    width: 38px;\r\n    height: 38px;\r\n    border: 1px solid #666;\r\n    background-color: #ccc;\r\n    cursor: default;\r\n  }\r\n  .classic [class^=bomb-count-]{\r\n    width: 38px;\r\n    height: 38px;\r\n    border: 1px solid #666;\r\n    background-color: #ccc;\r\n    cursor: default;\r\n  }\r\n  .classic .bomb-count-0{\r\n  }\r\n  .classic .bomb-count-1{\r\n    color: #00f;\r\n  }\r\n  .classic .bomb-count-2{\r\n    color: #080;\r\n  }\r\n  .classic .bomb-count-3{\r\n    color: #f00;\r\n  }\r\n  .classic .bomb-count-4{\r\n    color: #008;\r\n  }\r\n  .classic .bomb-count-5{\r\n    color: #800;\r\n  }\r\n  .classic .bomb-count-6{\r\n    color: #088;\r\n  }\r\n  .classic .bomb-count-7{\r\n    color: #000;\r\n  }\r\n  .classic .bomb-count-8{\r\n    color: #808;\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// game.vue?ac8d86f8","import Vue from 'vue'\nimport App from './App'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  render: h => h(App)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}